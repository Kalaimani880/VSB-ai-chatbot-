<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSB Engineering College - AI Assistant</title>
    <style>
        :root {
            --vsb-green: #00796b;
            --vsb-white: #ffffff;
            --bg-light: #f0f2f5;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-light);
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        header {
            background-color: var(--vsb-green);
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 { margin: 0; font-size: 1.4rem; }
        header p { margin: 5px 0 0; font-size: 0.8rem; font-style: italic; }

        #chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 15px;
            font-size: 0.95rem;
            line-height: 1.5;
            word-wrap: break-word;
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--vsb-green);
            color: white;
            border-bottom-right-radius: 2px;
        }

        .bot-message {
            align-self: flex-start;
            background-color: white;
            color: #333;
            border-bottom-left-radius: 2px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .input-area {
            background: white;
            padding: 15px;
            display: flex;
            gap: 10px;
            border-top: 1px solid #ddd;
        }

        input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
        }

        button {
            background-color: var(--vsb-green);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        #loading {
            font-size: 0.8rem;
            color: gray;
            margin-left: 20px;
            display: none;
        }
    </style>
</head>
<body>

<header>
    <h1>VSB AI Assistant</h1>
    <p>Hard Work is the Key to Success</p>
</header>

<div id="chat-container">
    <div class="message bot-message">
        Hello! I am the VSB Engineering College Assistant. How can I help you today regarding admissions, departments, or placements?
    </div>
</div>

<div id="loading">AI is thinking...</div>

<div class="input-area">
    <input type="text" id="userInput" placeholder="Ask about VSB College..." onkeypress="checkEnter(event)">
    <button onclick="sendMessage()">Send</button>
</div>

<script>
    // 1. INSERT YOUR API KEY HERE
    const API_KEY = "AIzaSyBkNdk228cftdox_FbKxxXJ1oqAmwLaNRQ"; 

    // 2. SYSTEM INSTRUCTIONS (Keep your college data here)
    const SYSTEM_PROMPT = "You are a professional AI assistant for VSB Engineering College (Autonomous). Only answer questions related to VSB College, its departments (CSE, IT, ECE, EEE, MECH, CIVIL, AIDS, AIML), placement records, campus facilities, and admissions. If a user asks something else, politely say you only provide information about VSB College.";

    async function sendMessage() {
        const inputField = document.getElementById('userInput');
        const chatContainer = document.getElementById('chat-container');
        const loadingIndicator = document.getElementById('loading');
        const userText = inputField.value.trim();

        if (!userText) return;

        // Display User Message
        chatContainer.innerHTML += `<div class="message user-message">${userText}</div>`;
        inputField.value = '';
        chatContainer.scrollTop = chatContainer.scrollHeight;

        // Show loading
        loadingIndicator.style.display = 'block';

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: SYSTEM_PROMPT + "\n\nUser Question: " + userText }] }]
                })
            });

            const data = await response.json();
            const botText = data.candidates[0].content.parts[0].text;

            // Display Bot Message
            chatContainer.innerHTML += `<div class="message bot-message">${botText}</div>`;
        } catch (error) {
            chatContainer.innerHTML += `<div class="message bot-message">Sorry, I am having trouble connecting. Please try again later.</div>`;
        } finally {
            loadingIndicator.style.display = 'none';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
    }

    function checkEnter(event) {
        if (event.key === "Enter") {
            sendMessage();
        }
    }
</script>

</body>
  </html>
